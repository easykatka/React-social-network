{"version":3,"sources":["api/api.js","api/auth-api.js","app/reducers/auth-reducer.js","api/profile-api.js","app/reducers/profile-reducer.js","features/header/index.js","features/login/index.js","api/users-api.js","app/reducers/users-reducer.js","features/components/follow-unfollow.js","common/preloader.js","img/defaultAvatar.png","features/users/index.js","app/reducers/app-reducer.js","features/profile/profileEditForm/index.js","features/profile/profileInfo/index.js","features/profile/index.js","features/chat/index.js","App.js","app/store.js","serviceWorker.js","index.js"],"names":["instance","axios","create","withCredentials","baseURL","headers","authAPI","get","then","res","data","email","password","rememberMe","captcha","post","delete","authSlice","createSlice","name","initialState","id","login","isAuth","captchaUrl","errorMessage","reducers","setCaptchaUrl","state","action","payload","setAuthUserData","setErrorMessage","actions","getAuthUserData","dispatch","a","meData","resultCode","profileAPI","userId","status","put","file","formData","FormData","append","profile","profileSlice","AuthUser","formEdit","formError","setUserProfile","setUserStatus","setAuthUser","setNewAvatar","photos","setFormEdit","setFormError","setUserFollowStatus","followed","addPost","getUserProfile","profileData","profileStatus","followStatus","getAuthUser","useStyles","makeStyles","theme","header__container","color","width","margin","display","alignItems","header__profile","justifyContent","header","background","Header","classes","useSelector","auth","useDispatch","React","useEffect","AppBar","position","className","Grid","container","spacing","map","item","to","activeClassName","toLocaleUpperCase","href","fullName","Avatar","alt","src","small","onClick","fontSize","login__container","padding","paddingBottom","login__icon","login__captcha","login__error","Login","useFormik","initialValues","validationSchema","Yup","required","min","max","onSubmit","console","log","loginData","url","serverError","messages","length","putLogin","handleSubmit","handleChange","values","errors","touched","handleBlur","justify","Paper","Typography","variant","TextField","label","onBlur","size","onChange","value","type","FormControlLabel","control","Checkbox","checked","Button","startIcon","usersAPI","currentPage","pageSize","usersSlice","users","totalUsersCount","isFetching","followingInProgress","setIsFetching","setUsers","setCurrentPage","setTotalUsersCount","toggleFollow","user","setFollowingInProgress","filter","setPageSize","followUser","follow","response","FollowUnfollow","fullWidth","disabled","some","Preloader","CircularProgress","style","top","left","marginLeft","marginTop","Users","page","items","totalCount","getUsers","direction","TablePagination","component","count","onChangePage","event","newPage","rowsPerPage","onChangeRowsPerPage","parseInt","target","overflowY","height","xs","md","lg","Card","raised","CardActionArea","CardMedia","image","large","defaultAvatar","title","CardContent","gutterBottom","appSlice","isInit","setInit","ProfileEditForm","e","parsed","match","slised","toLowerCase","slice","putNewProfile","flexDirection","textAlign","placeholder","labelPlacement","lookingForAJob","multiline","rowsMax","aboutMe","lookingForAJobDescription","Object","keys","contacts","key","ProfileInfo","routerId","authUserId","useState","editMode","setEditMode","userStatus","deactivateMode","putNewStatus","toUpperCase","Input","autoFocus","currentTarget","IconButton","cursor","avatar__block","borderRadius","userInfo__block","useInfo__status","textTransform","avatar_img","marginBottom","withRouter","props","params","profileUserId","elevation","accept","input","multiple","files","htmlFor","Chat","messageList","setMessages","message","setMessage","ws","WebSocket","addEventListener","newMessages","JSON","parse","prev","scrollBottom","maxScrollTop","scrollHeight","clientHeight","scrollTop","overflow","ref","div","i","idx","Box","p","photo","userName","preventDefault","send","app__container","paddingTop","App","app","promise","Promise","all","exact","path","render","configureStore","reducer","appReducer","usersReducer","authReducer","profileReducer","Boolean","window","location","hostname","ReactDOM","StrictMode","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.741a41f8.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n\twithCredentials: true, //? withCredentials() makes your browser include cookies and authentication headers in your XHR request.\r\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n\theaders: { \"API-KEY\": \"ca0951c1-2a9d-481e-a273-3d5f60141d92\" },\r\n});\r\n","import { instance } from \"./api\";\r\n\r\nexport const authAPI = {\r\n\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`).then((res) => res.data);\r\n\t},\r\n\tlogin(email, password, rememberMe = false, captcha) {\r\n\t\treturn instance\r\n\t\t\t.post(`auth/login`, { email, password, rememberMe, captcha })\r\n\t\t\t.then((res) => res.data);\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`);\r\n\t},\r\n\tgetCaptchaUrl() {\r\n\t\treturn instance.get(`security/get-captcha-url`).then(res => res.data)\r\n\t},\r\n};\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport { authAPI } from '../../api/auth-api'\r\n\r\nexport const authSlice = createSlice({\r\n\tname: 'auth',\r\n\tinitialState: {\r\n\t\tid: null,\r\n\t\temail: null,\r\n\t\tlogin: null,\r\n\t\tisAuth: false,\r\n\t\tcaptchaUrl: null,\r\n\t\terrorMessage: null,\r\n\t},\r\n\treducers: {\r\n\t\tsetCaptchaUrl: (state, action) => {\r\n\t\t\tstate.captchaUrl = action.payload\r\n\t\t},\r\n\t\tsetAuthUserData: (state, action) => {\r\n\t\t\treturn { state, ...action.payload }\r\n\t\t},\r\n\t\tsetErrorMessage: (state, action) => {\r\n\t\t\tstate.errorMessage = action.payload\r\n\t\t},\r\n\t},\r\n})\r\n// экшины\r\nexport const { setCaptchaUrl, setAuthUserData, setErrorMessage } = authSlice.actions\r\n// санки\r\nexport const getCaptcha = () => async dispatch => {\r\n\tconst data = await authAPI.getCaptchaUrl()\r\n\tconst captchaUrl = data.url\r\n\tdispatch(setCaptchaUrl(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async dispatch => {\r\n\tconst response = await authAPI.logout()\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setAuthUserData({ id: null, email: null, login: null, isAuth: false }))\r\n\t}\r\n}\r\nexport const putLogin = (email, password, rememberMe, captcha) => async dispatch => {\r\n\tconst loginData = await authAPI.login(email, password, rememberMe, captcha)\r\n\tif (loginData.resultCode === 0) {\r\n\t\tdispatch(getAuthUserData())\r\n\t} else {\r\n\t\tif (loginData.resultCode === 10) {\r\n\t\t\tdispatch(getCaptcha())\r\n\t\t}\r\n\t\tconst serverError = loginData.messages.length > 0 ? loginData.messages[0] : 'Some Error'\r\n\t\tdispatch(setErrorMessage(serverError))\r\n\t}\r\n}\r\nexport const getAuthUserData = () => async dispatch => {\r\n\tconst meData = await authAPI.me()\r\n\tif (meData.resultCode === 0) {\r\n\t\tmeData.data.isAuth = true\r\n\t\tdispatch(setAuthUserData(meData.data))\r\n\t}\r\n}\r\nexport default authSlice.reducer\r\n","import { instance } from \"./api\";\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/` + userId).then((res) => res.data);\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/` + userId).then((res) => res.data); //запрос статуса отдельно с сервера\r\n\t},\r\n\tputNewStatus(status) {\r\n\t\treturn instance\r\n\t\t\t.put(`profile/status`, { status: status })\r\n\t\t\t.then((res) => res.data);\r\n\t},\r\n\r\n\tputNewAvatar(file) {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append(\"image\", file);\r\n\t\treturn instance\r\n\t\t\t.put(`profile/photo`, formData, {\r\n\t\t\t\theaders: { \"Content-Type\": \"multipart/form-data\" },\r\n\t\t\t})\r\n\t\t\t.then((res) => res.data);\r\n\t},\r\n\tgetFollowStatus(userId) {\r\n\t\treturn instance.get(`follow/${userId}`).then(res => res.data)\r\n\t},\r\n\r\n\tsaveProfile(profile) {\r\n\t\treturn instance.put(`profile`, profile).then((res) => res.data);\r\n\t},\r\n};\r\n","import { profileAPI } from \"../../api/profile-api\";\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const profileSlice = createSlice({\r\n\tname: 'profile',\r\n\tinitialState: {\r\n\t\tAuthUser: null,\r\n\t\tprofile: null,\r\n\t\tstatus: \"\",\r\n\t\tformEdit: false,\r\n\t\tformError: \"\"\r\n\t},\r\n\treducers: {\r\n\t\tsetUserProfile: (state, action) => { state.profile = action.payload },\r\n\t\tsetUserStatus: (state, action) => { state.status = action.payload },\r\n\t\tsetAuthUser: (state, action) => { state.AuthUser = action.payload },\r\n\t\tsetNewAvatar: (state, action) => { state.AuthUser.photos = state.profile.photos = action.payload },\r\n\t\tsetFormEdit: (state, { payload }) => { state.formEdit = payload },\r\n\t\tsetFormError: (state, { payload }) => { state.formError = payload },\r\n\t\tsetUserFollowStatus:(state, {payload}) => {state.profile =  {...state.profile , followed : payload}}\r\n\t},\r\n},\r\n)\r\n//action\r\nexport const { setUserFollowStatus,setFormError, setFormEdit, addPost, setUserProfile, setUserStatus, setAuthUser, setNewAvatar } = profileSlice.actions;\r\n//thunk\r\nexport const getUserProfile = (id) => async (dispatch) => {\r\n\tconst profileData = await profileAPI.getProfile(id)\r\n\tconst profileStatus = await profileAPI.getStatus(id)\r\n\tconst followStatus = await profileAPI.getFollowStatus(id)\r\n\tdispatch(setUserProfile(profileData))\r\n\tdispatch(setUserStatus(profileStatus))\r\n\tdispatch(setUserFollowStatus(followStatus))\r\n}\r\nexport const getAuthUser = id => async (dispatch) => {\r\n\tconst data = await profileAPI.getProfile(id)\r\n\tdispatch(setAuthUser(data))\r\n}\r\nexport const putNewAvatar = (file) => async (dispatch) => {\r\n\tconst data = await profileAPI.putNewAvatar(file)\r\n\tconsole.log(data.data.photos)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setNewAvatar(data.data.photos))\r\n\t}\r\n}\r\nexport const putNewStatus = (status) => async (dispatch) => {\r\n\tconst data = await profileAPI.putNewStatus(status)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setUserStatus(status))\r\n\t}\r\n}\r\nexport const putNewProfile = (profile) => async (dispatch) => {\r\n\r\n\tconst data = await profileAPI.saveProfile(profile)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(getUserProfile(profile.userId))\r\n\t\tdispatch(getAuthUser(profile.userId))\r\n\t\tdispatch(setFormEdit(false))\r\n\t} else if (data.resultCode === 1) {\r\n\t\tconsole.log(data.messages)\r\n\t\tconst parsed = data.messages[0].match(/Contacts->(\\w+)/)[1]\r\n\t\tconst slised = parsed[0].toLowerCase() + parsed.slice(1)\r\n\t\tdispatch(setFormError(slised))\r\n\t\t// dispatch(stopSubmit(\"profileg\", {contacts: {[slised]: `type valid url format for ${slised}`}}))\r\n\t}\r\n}\r\nexport default profileSlice.reducer;\r\n\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { AppBar, IconButton, Avatar, Grid } from '@material-ui/core';\r\nimport { logout } from '../../app/reducers/auth-reducer';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getAuthUser } from '../../app/reducers/profile-reducer';\r\nimport LaunchOutlinedIcon from '@material-ui/icons/LaunchOutlined';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport React from 'react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\theader__container: {\r\n\t\tcolor: 'white',\r\n\t\twidth: 1200,\r\n\t\tmargin: '10px auto',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\t\r\n\t},\r\n\theader__profile: {\r\n\t\tjustifyContent: 'flex-end',\r\n\t\talignItems: 'center',\r\n\t},\r\n\theader: {\r\n\t\tbackground: '-webkit-linear-gradient(to top, #232526, #414345)',\r\n\t\tbackground: 'linear-gradient(to top, #232526, #414345)',\r\n\t},\r\n}));\r\n\r\nexport const Header = () => {\r\n\tconst classes = useStyles();\r\n\tconst AuthUser = useSelector((state) => state.profile.AuthUser);\r\n\tconst { isAuth, id } = useSelector((state) => state.auth);\r\n\tconst dispatch = useDispatch();\r\n\t// если залогинились,диспатчип юзера,получаем аватарку\r\n\tReact.useEffect(() => {\r\n\t\tid && dispatch(getAuthUser(id));\r\n\t}, [dispatch, id]);\r\n\t// список навигационных кнопок\r\n\tconst navTitles = ['home', 'profile', 'chat', 'users'];\r\n\r\n\t//* РАБОЧИЙ КОМПОНЕНТ\r\n\treturn (\r\n\t\t<AppBar position='sticky' className={classes.header}>\r\n\t\t\t<Grid className={classes.header__container}>\r\n\t\t\t\t<Grid container spacing={6}>\r\n\t\t\t\t\t{navTitles.map((item) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Grid item key={item}>\r\n\t\t\t\t\t\t\t\t<NavLink to={'/' + item} activeClassName='active'>\r\n\t\t\t\t\t\t\t\t\t<h2> {item.toLocaleUpperCase()}</h2>\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<a href='https://social-network.samuraijs.com/docs'>\r\n\t\t\t\t\t<h2>API</h2>\r\n\t\t\t\t</a>\r\n\t\t\t\t{isAuth && (\r\n\t\t\t\t\t<Grid container spacing={2} className={classes.header__profile}>\r\n\t\t\t\t\t\t<Link to={`/profile`}>\r\n\t\t\t\t\t\t\t<h4>{AuthUser?.fullName}</h4>{' '}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<Avatar alt='Remy Sharp' src={AuthUser?.photos.small} />\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<a>\r\n\t\t\t\t\t\t\t<LaunchOutlinedIcon  onClick={() => dispatch(logout())} fontSize='large'/>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t</Grid>\r\n\t\t</AppBar>\r\n\t);\r\n};\r\n","\r\nimport { useFormik } from 'formik'\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { putLogin } from \"../../app/reducers/auth-reducer\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { TextField, Button, Checkbox, Grid, FormControlLabel, Typography, Paper } from '@material-ui/core/'\r\nimport VpnKeyRoundedIcon from '@material-ui/icons/VpnKeyRounded';\r\nimport * as Yup from 'yup'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport { TouchAppRounded } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tlogin__container: {\r\n\t\tmargin: \"0 auto\",\r\n\t\tdisplay: 'flex',\r\n\t\tpadding: theme.spacing(2),\r\n\t\tmargin: theme.spacing(1),\r\n\t\tflexDirection: 'column',\r\n\t\ttextAlign: 'center',\r\n\t\t\"&>*\": { paddingBottom: theme.spacing(1) }\r\n\t},\r\n\tlogin__icon: {\r\n\t\tfontSize: 80, width: '100%', color: \"#61dafb\"\r\n\t},\r\n\tlogin__captcha:\r\n\t\t{ margin: '0 auto', width: '100px' },\r\n\tlogin__error: {\r\n\t\tcolor: 'red'\r\n\t}\r\n}))\r\n\r\nexport const Login = () => {\r\n\tconst captchaUrl = useSelector(state => state.auth.captchaUrl)\r\n\tconst errorMessage = useSelector(state => state.auth.errorMessage)\r\n\tconst dispatch = useDispatch()\r\n\tconst classes = useStyles();\r\n\tconst { handleSubmit, handleChange, values, errors, touched, handleBlur } = useFormik({\r\n\t\tinitialValues: {\r\n\t\t\tlogin: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\tcaptcha: \"\",\r\n\t\t\trememberMe: false\r\n\t\t},\r\n\t\tvalidationSchema: Yup.object({\r\n\t\t\tlogin: Yup.string()\r\n\t\t\t\t.email(\"Insert correct email \")\r\n\t\t\t\t.required('Required'),\r\n\t\t\tpassword: Yup.string()\r\n\t\t\t\t.min(4, 'Password must be longer than 4 characters.')\r\n\t\t\t\t.max(12, 'Password must be shorter than 12 characters.')\r\n\t\t\t\t.required('Required')\r\n\r\n\t\t}),\r\n\t\tonSubmit: ({ login, password, captcha, rememberMe }) => {\r\n\t\t\tconsole.log(login, password, captcha, rememberMe)\r\n\t\t\tdispatch(putLogin(login, password, rememberMe, captcha))\r\n\t\t}\r\n\t})\r\n\tconsole.log(errors, touched)\r\n\t//TODO сделать валидацию\r\n\treturn (\r\n\r\n\r\n\t\t<Grid container justify='center'>\r\n\t\t\t<form onSubmit={handleSubmit} >\r\n\t\t\t\t<Paper>\r\n\t\t\t\t\t<Grid item className={classes.login__container}>\r\n\t\t\t\t\t\t<ExitToAppIcon className={classes.login__icon} />\r\n\t\t\t\t\t\t<Typography variant='h6' className={classes.login__error}>{errorMessage} </Typography>\r\n\t\t\t\t\t\t<TextField label='Email' onBlur={handleBlur} size='small' onChange={handleChange} id=\"login\" name=\"login\" value={values.login} />\r\n\r\n\t\t\t\t\t\t{errors.login && touched.login && <div className={classes.login__error}>{errors.login}</div>}\r\n\r\n\t\t\t\t\t\t<TextField label='Password' onBlur={handleBlur} size='small' type=\"password\" onChange={handleChange} id=\"password\" name=\"password\" value={values.password} />\r\n\r\n\t\t\t\t\t\t{errors.password && touched.password && <div className={classes.login__error}>{errors.password}</div>}\r\n\r\n\t\t\t\t\t\t<FormControlLabel control={\r\n\t\t\t\t\t\t\t<Checkbox checked={values.rememberMe} onChange={handleChange} name=\"rememberMe\" color=\"primary\" />} label=\"Remember me\" />\r\n\t\t\t\t\t\t{captchaUrl && <img className={classes.login__captcha} src={captchaUrl} width='100px' alt='captcha' />}\r\n\t\t\t\t\t\t{captchaUrl && (<div><TextField label='Capcha' type=\"text\" onChange={handleChange} id=\"captcha\" size='small' name=\"captcha\" value={values.captcha} />\r\n\t\t\t\t\t\t</div>)}\r\n\t\t\t\t\t\t<Button variant='contained' startIcon={<VpnKeyRoundedIcon />} size='large' type='submit' color=\"primary\" > Log In</Button>\r\n\t\t\t\t\t\t<p >Для тестового просмотра используйте пару логин/пароль: </p>\r\n\t\t\t\t\t\t<p>free@socialnet.com / free</p>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Paper>\r\n\t\t\t</form>\r\n\t\t</Grid>\r\n\r\n\r\n\t)\r\n\r\n\r\n}\r\n","import { instance } from \"./api\";\r\n\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage = 1, pageSize = 10) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(res => res.data)\r\n\t},\r\n\tfollowAPI(userId) {\r\n\t\treturn instance.post(`follow/${userId}`).then(res => res.data)\r\n\t},\r\n\tunFollowAPI(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`).then(res => res.data)\r\n\t}\r\n\t\r\n}","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { profileAPI } from \"../../api/profile-api\";\r\nimport { usersAPI } from \"../../api/users-api\";\r\nimport { setUserFollowStatus } from \"./profile-reducer\";\r\n\r\nexport const usersSlice = createSlice({\r\n\tname: \"users\",\r\n\tinitialState: {\r\n\t\tusers: [],\r\n\t\tpageSize: 100,\r\n\t\ttotalUsersCount: 5000,\r\n\t\tcurrentPage: 15,\r\n\t\tisFetching: true,\r\n\t\tfollowingInProgress: [], // array of followed users\r\n\t},\r\n\treducers: {\r\n\t\tsetIsFetching: (state, action) => {\r\n\t\t\tstate.isFetching = action.payload;\r\n\t\t},\r\n\t\tsetUsers: (state, action) => {\r\n\t\t\tstate.users = action.payload;\r\n\t\t},\r\n\t\tsetCurrentPage: (state, action) => {\r\n\t\t\tstate.currentPage = action.payload;\r\n\t\t},\r\n\t\tsetTotalUsersCount: (state, action) => {\r\n\t\t\tstate.totalUsersCount = action.payload;\r\n\t\t},\r\n\t\ttoggleFollow: (state, { payload }) => {\r\n\t\t\tstate.users = state.users.map(user => {\r\n\t\t\t\tif (user.id === payload) {\r\n\t\t\t\t\treturn { ...user, followed: !user.followed }\r\n\t\t\t\t}\r\n\t\t\t\treturn user\r\n\t\t\t})\r\n\t\t},\r\n\t\tsetFollowingInProgress: (state, { payload }) => { \r\n\t\t\tstate.followingInProgress = payload.isFetching\r\n\t\t\t\t? [...state.followingInProgress, payload.userId]\r\n\t\t\t\t: state.followingInProgress.filter(id => id !== payload.userId)\r\n\t\t},\r\n\t\tsetPageSize: (state, { payload }) => {\r\n\t\t\tstate.pageSize = payload\r\n\t\t},\r\n\t}\r\n});\r\n//actions\r\nexport const {\r\n\tsetCurrentPage,\r\n\tsetPageSize,\r\n\tsetIsFetching,\r\n\tsetUsers,\r\n\tsetTotalUsersCount,\r\n\ttoggleFollow,\r\n\tsetFollowingInProgress,\r\n} = usersSlice.actions;\r\n//thunk\r\nexport const getUsers = (page, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(setIsFetching(true)); \r\n\t\tdispatch(setCurrentPage(page));\r\n\t\tconst data = await usersAPI.getUsers(page, pageSize);\r\n\t\tdispatch(setIsFetching(false));\r\n\t\tdispatch(setUsers(data.items));\r\n\t\tdispatch(setTotalUsersCount(data.totalCount));\r\n\t};\r\n};\r\nexport const followUser = (userId,follow ) => {  debugger\r\n\treturn async (dispatch) => { \r\n\t\tdispatch(setFollowingInProgress({ isFetching: true, userId }))\r\n\t\tconst response = !follow ? await usersAPI.followAPI(userId) : await usersAPI.unFollowAPI(userId)\r\n\t\tconst followStatus = await profileAPI.getFollowStatus(userId)\r\n\t\tif (response.resultCode === 0) {\r\n\t\t\tdispatch(toggleFollow(userId))\r\n\t\t\tdispatch(setUserFollowStatus(followStatus))\r\n\t\t}\r\n\t\tdispatch(setFollowingInProgress({ isFetching: false, userId }))\r\n\t}\r\n}\r\n\r\nexport default usersSlice.reducer;\r\n","import { Button } from \"@material-ui/core\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { followUser, unfollowUser } from \"../../app/reducers/users-reducer\"\r\nimport React from 'react'\r\n\r\n\r\n\r\nexport const FollowUnfollow = ({ id, followed }) => {\r\n\tconst followingInProgress = useSelector((state) => state.users.followingInProgress)\r\n\tconst dispatch = useDispatch()\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\r\n\t\t\t{followed ?\r\n\t\t\t\t(\r\n\t\t\t\t\t<Button\r\n\r\n\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tdisabled={followingInProgress.some((item) => item === id)}\r\n\t\t\t\t\t\tonClick={() => {dispatch(followUser(id , true))}}>\r\n\t\t\t\t\t\tUNFRIEND\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tdisabled={followingInProgress.some((item) => item === id)}\r\n\t\t\t\t\t\tonClick={() => {dispatch(followUser(id , false))}}>\r\n\t\t\t\t\t\tFREIND\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t</>\r\n\t)\r\n}","import { CircularProgress } from \"@material-ui/core\"\r\n\r\nexport const Preloader = () => {\r\n\treturn <div>\r\n\t\t\t\t<CircularProgress size={200}  color=\"primary\" style={{\r\n\t\t\t\t\tposition:\"absolute\",\r\n\t\t\t\t\ttop: \"50%\",\r\n\t\t\t\t\tleft: \"50%\",\r\n\t\t\t\t\tmarginLeft:\"-100px\",\r\n\t\t\t\t\tmarginTop:\"-60px\"\r\n\t\t\t\t}} />\r\n\t\t</div>\r\n}","export default __webpack_public_path__ + \"static/media/defaultAvatar.832028ea.png\";","import { Card, CardActionArea, CardContent, CardMedia, Grid, Typography } from '@material-ui/core'\r\nimport { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { getUsers, setCurrentPage, setPageSize } from '../../app/reducers/users-reducer'\r\nimport TablePagination from '@material-ui/core/TablePagination'\r\nimport { FollowUnfollow } from '../components/follow-unfollow'\r\nimport { Preloader } from '../../common/preloader'\r\nimport defaultAvatar from '../../img/defaultAvatar.png'\r\n\r\nexport const Users = () => {\r\n\tconst { users, currentPage, pageSize, isFetching, totalUsersCount } = useSelector((state) => state.users)\r\n\tconst dispatch = useDispatch()\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getUsers(currentPage, pageSize))\r\n\t}, [currentPage, pageSize])\r\n\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tdispatch(setCurrentPage(newPage))\r\n\t}\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tdispatch(setPageSize(parseInt(event.target.value, 10)))\r\n\t\tdispatch(setCurrentPage(1))\r\n\t}\r\n\r\n\t//TODO исключить последовательные фетчи\r\n\treturn (\r\n\t\t<div className='container'  >\r\n\t\t\t<Grid container direction='column' alignItems='center' >\r\n\t\t\t\t<Typography variant='h5'>Users </Typography>\r\n\t\t\t\t<TablePagination\r\n\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\tcount={totalUsersCount}\r\n\t\t\t\t\tpage={currentPage}\r\n\t\t\t\t\tonChangePage={handleChangePage}\r\n\t\t\t\t\trowsPerPage={pageSize}\r\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t{isFetching ? <Preloader /> :\r\n\t\t\t\t<Grid container spacing={2}  style={{overflowY:'scroll' , height:500 , marginTop:1}}>\r\n\t\t\t\t\t{users &&\r\n\t\t\t\t\t\tusers\r\n\t\t\t\t\t\t\t// .filter((u) => u.photos.small != null)\r\n\t\t\t\t\t\t\t.map((user) => (\r\n\t\t\t\t\t\t\t\t<Grid item xs={6} md={4} lg={3} key={user.id}  >\r\n\t\t\t\t\t\t\t\t\t<Card raised={true} >\r\n\t\t\t\t\t\t\t\t\t\t<CardActionArea style={{ height: \"100%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<NavLink to={'/profile/' + user.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CardMedia style={{ height:210 }}  image={user?.photos.large || defaultAvatar} title='user photo' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography gutterBottom variant='h5' component='h2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user?.name}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='textSecondary' component='p'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user?.status || \"😡\"}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t\t\t</CardActionArea>\r\n\t\t\t\t\t\t\t\t\t\t\t<FollowUnfollow id={user.id} followed={user.followed} />\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t</Grid>}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { getAuthUserData } from \"../reducers/auth-reducer\";\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const appSlice = createSlice({\r\n\tname: \"app\",\r\n\tinitialState: {\r\n\t\tisInit: false,\r\n\t},\r\n\treducers: {\r\n\t\tsetInit: (state) => {\r\n\t\t\tstate.isInit = true;\r\n\t\t},\r\n\t},\r\n});\r\nexport const init = () => (dispatch) => {\r\n\tconst promise = dispatch(getAuthUserData());\r\n\tPromise.all([promise]).then(() => {\r\n\t\tdispatch(setInit());\r\n\t});\r\n};\r\nexport const { setInit } = appSlice.actions;\r\nexport default appSlice.reducer;\r\n","import { Grid, Button, TextField, Typography, Checkbox, FormControlLabel } from '@material-ui/core'\r\nimport { useFormik } from 'formik'\r\nimport { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { putNewProfile, setFormEdit, setFormError } from '../../../app/reducers/profile-reducer'\r\n\r\n//TODO починить конект формы , сделать валидацию для контактов \r\nexport const ProfileEditForm = () => {\r\n\tconst { profile, formError } = useSelector(state => state.profile)\r\n\tconst dispatch = useDispatch()\r\n\r\n\r\n\tconst { handleSubmit, handleChange, values } = useFormik({\r\n\t\tinitialValues: profile,\r\n\t\tonSubmit: e => {\r\n\t\t\tdebugger\r\n\t\t\tdispatch(putNewProfile(e))\r\n\t\t},\r\n\t})\r\n\r\n\t// убрать форму если перешли на другую страницу\r\n\tuseEffect(() => () => {\r\n\t\tdispatch(setFormEdit(false))\r\n\t\tdispatch(setFormError(\"\"))\r\n\t}\r\n\t\t, [])\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit} style={{ flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>\r\n\t\t\t{/* <Typography variant='h4'>Edit info</Typography> */}\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={6} >\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={values?.fullName}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tplaceholder={'Enter your name'}\r\n\t\t\t\t\t\tid='fullName'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} md={6} >\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tlabelPlacement='start'\r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tchecked={values?.lookingForAJob}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tid='lookingForAJob'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel='Are you looking for a job?'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<TextField label='About' multiline\r\n\t\t\t\t\t\trowsMax={4} required type='text' value={values?.aboutMe} multiline onChange={handleChange} id='aboutMe' />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} md={6} >\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel='Skills'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\trowsMax={4}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={values?.lookingForAJobDescription}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tid='lookingForAJobDescription'\r\n\t\t\t\t\t/>\t\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Typography variant='h5'> Contacts </Typography>\r\n\t\t\t{ !formError || <Typography style={{ color: 'red' }}> invalid url format for {formError} </Typography>}\r\n\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t{profile\r\n\t\t\t\t\t? Object.keys(profile.contacts).map(key => {\r\n\t\t\t\t\t\treturn (\r\n\r\n\t\t\t\t\t\t\t<Grid key={key} item xs={12} md={6}>\r\n\t\t\t\t\t\t\t\t{ !formError === key ? <Typography style={{ color: 'red' }}> invalid url format for {formError} </Typography> : null}\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tvalue={values.contacts[key] || ''}\r\n\t\t\t\t\t\t\t\t\tname={'contacts.' + key}\r\n\t\t\t\t\t\t\t\t\tid={key}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tlabel={key}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t: null}\r\n\t\t\t</Grid>\r\n\t\t\t<Grid container justify='space-around' style={{ marginTop: '20px' }}>\r\n\t\t\t\t<Button variant='contained' type='submit' color='primary'>\r\n\t\t\t\t\tSave\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant='contained' type='submit' color='secondary' onClick={() => { dispatch(setFormEdit(false)) }}\t>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</Button>\r\n\t\t\t</Grid>\r\n\t\t</form>\r\n\t)\r\n}\r\n","import React from 'react';\r\nimport { Button, Grid, Input, Typography } from '@material-ui/core';\r\nimport { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { putNewStatus } from '../../../app/reducers/profile-reducer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nexport const ProfileInfo = ({ routerId }) => {\r\n\tconst { status, profile } = useSelector((state) => state.profile);\r\n\tconst authUserId = useSelector(state => state.auth.id)\r\n\tconst [editMode, setEditMode] = useState(false);\r\n\tconst [userStatus, setUserStatus] = useState(status);\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tsetUserStatus(status);\r\n\t}, [status]);\r\n\r\n\r\n\tconst deactivateMode = (action) => {\r\n\t\tif (!action) {\r\n\t\t\tsetUserStatus(status);\r\n\t\t\tsetEditMode(false);\r\n\t\t} else {\r\n\t\t\tsetEditMode(false);\r\n\t\t\tdispatch(putNewStatus(userStatus));\r\n\t\t}\r\n\t};\r\n\tconst onStatusChange = (e) => {\r\n\t\tsetUserStatus(e.currentTarget.value);\r\n\t};\r\n\tconsole.log(routerId != authUserId && !!routerId || true)\r\n\r\n\treturn (\r\n\t\t// NAME\r\n\t\t<Grid container direction='column'>\r\n\t\t\t<Grid item xs>\r\n\t\t\t\t<Typography variant='h5'>{profile.fullName?.toUpperCase()}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t{/* STATUS */}\r\n\t\t\t<Grid item>\r\n\t\t\t\t{editMode && !routerId ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Input autoFocus={true} onChange={onStatusChange} value={userStatus} />\r\n\t\t\t\t\t\t<IconButton onClick={() => deactivateMode(true)}>\r\n\t\t\t\t\t\t\t<SaveIcon fontSize='small' color='primary' />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t<IconButton color='inherit' onClick={() => deactivateMode(false)}>\r\n\t\t\t\t\t\t\t<CloseIcon fontSize='small' color='secondary' />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t\t<Typography variant='body1' style={{ cursor: 'pointer', color: '#ffc800' }} onClick={() => { setEditMode(true) }} >\r\n\t\t\t\t\t\t\t\t{status}\r\n\t\t\t\t\t\t\t\t{!routerId && <EditIcon fontSize='small' color='inherit' />}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\t\t\t\t<hr />\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Typography variant='h6' color={profile?.lookingForAJob ? 'primary' : 'secondary'}>\r\n\t\t\t\t\t\t{profile?.lookingForAJob ? 'Im looking for a job' : 'Im not looking for a job'}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Typography variant='h5'> About me </Typography>\r\n\t\t\t\t\t<Typography> {profile?.aboutMe} </Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Typography variant='h5'> Skills </Typography>\r\n\t\t\t\t\t<Typography>{profile?.lookingForAJobDescription}</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Typography variant='h5'> Contacts </Typography>\r\n\t\t\t<Grid container direction='column'>\r\n\t\t\t\t{profile.contacts\r\n\t\t\t\t\t? Object.keys(profile.contacts).map((key) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tprofile.contacts[key] && (\r\n\t\t\t\t\t\t\t\t<Grid key={key} item>\r\n\t\t\t\t\t\t\t\t\t<Button size='small' style={{ color: 'grey' }} href={'//' + profile.contacts[key]}>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{profile.contacts[key]}{' '}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t: null}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n};\r\n","import { useDispatch, useSelector } from 'react-redux'\r\nimport { getUserProfile, putNewAvatar, setFormEdit, setUserProfile } from '../../app/reducers/profile-reducer'\r\nimport { useEffect } from 'react'\r\nimport { Avatar, Button, Grid, IconButton, Paper, Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { ProfileEditForm } from './profileEditForm'\r\nimport { ProfileInfo } from './profileInfo'\r\nimport { FollowUnfollow } from '../components/follow-unfollow'\r\nimport { Preloader } from '../../common/preloader'\r\nimport AddAPhotoOutlinedIcon from '@material-ui/icons/AddAPhotoOutlined';\r\nimport SettingsSharpIcon from '@material-ui/icons/SettingsSharp';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tavatar__block: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tborderRadius: theme.spacing(1),\r\n\r\n\t\t'&>*': { width: '100%' },\r\n\t},\r\n\tuserInfo__block: {\r\n\t\tpadding: theme.spacing(2),\r\n\t},\r\n\tuseInfo__status: {\r\n\t\twidth: '100%',\r\n\t\tjustifyContent: 'left',\r\n\t\ttextTransform: 'none',\r\n\t},\r\n\tavatar_img: {\r\n\t\tborderRadius: theme.spacing(1),\r\n\t\twidth: '100%',\r\n\t\theight: \"100%\",\r\n\t\tmarginBottom: theme.spacing(1),\r\n\t},\r\n}))\r\nconst Profile = props => {\r\n\tconst classes = useStyles()\r\n\tconst { profile, formEdit } = useSelector(state => state.profile)\r\n\tconst authUserId = useSelector(state => state.auth.id)\r\n\r\n\tconst routerId = props.match.params.userId\r\n\tconst profileUserId = routerId || authUserId\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\r\n\r\n\r\n\t// устанавливаем юзера ,демонтируем юзера\r\n\tuseEffect(() => {\r\n\t\tif (profileUserId) dispatch(getUserProfile(profileUserId))\r\n\t\treturn () =>\r\n\t\t\tdispatch(setUserProfile(null))\r\n\t}, [dispatch, profileUserId])\r\n\r\n\r\n\tif (!profile) {\r\n\t\treturn <Preloader />\r\n\t}\r\n\r\n\treturn (<>\r\n\t\t<Typography style={{ textAlign: 'center'}} variant='h5'>Profile </Typography>\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t{/* левый блок */}\r\n\t\t\t<Grid item xs={3}>\r\n\t\t\t\t<Paper className={classes.avatar__block} elevation={0}>\r\n\t\t\t\t\t<Avatar className={classes.avatar_img} alt='user foto' src={profile.photos?.large} />\r\n\t\t\t\t\t{routerId  ? (\r\n\t\t\t\t\t\t<FollowUnfollow id={routerId} followed={profile.followed} />\r\n\t\t\t\t\t) :\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\taccept='image/*'\r\n\t\t\t\t\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\t\t\t\t\tid='contained-button-file'\r\n\t\t\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t\t\t\t\tonChange={e => dispatch(putNewAvatar(e.target.files[0]))}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label htmlFor='contained-button-file'>\r\n\t\t\t\t\t\t\t\t\t<IconButton variant='contained' color='primary' component='span'>\r\n\t\t\t\t\t\t\t\t\t\t<AddAPhotoOutlinedIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t{formEdit ||\r\n\t\t\t\t\t\t\t\t\t<IconButton color='secondary' variant='contained' onClick={() => dispatch(setFormEdit(true))}>\r\n\t\t\t\t\t\t\t\t\t\t<SettingsSharpIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t\t{/* правый блок */}\r\n\t\t\t<Grid item xs={5}>\r\n\t\t\t\t<Paper className={classes.userInfo__block}>\r\n\t\t\t\t\t{formEdit ? <ProfileEditForm /> : <ProfileInfo routerId={routerId} />}\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t</>\r\n\t)\r\n}\r\nexport default withRouter(Profile)\r\n","import { Avatar, Box, IconButton, Grid, Paper, TextField } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SendRoundedIcon from '@material-ui/icons/SendRounded'\r\nimport { useSelector } from \"react-redux\";\r\n\r\n\r\n// offsetHeight, scrollTop, scrollHeight.\r\nexport const Chat = () => {\r\n\tconst [messages, setMessages] = useState([]);\r\n\tconst [message, setMessage] = useState(\"\");\r\n\t\r\n\tconst ws = new WebSocket(\"wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\");\r\n\r\n\tuseEffect(() => {\r\n\t\tws.addEventListener(\"message\", (e) => {\r\n\t\t\tconst newMessages = JSON.parse(e.data);\r\n\t\t\tsetMessages((prev) => [...prev, ...newMessages])\r\n\t\t})\r\n\t}\r\n\t\t, [])\r\n\r\n\tlet messageList\r\n\tconst scrollBottom = () => {\r\n\t\tconst scrollHeight = messageList.scrollHeight;\r\n\t\tconst height = messageList.clientHeight;\r\n\t\tconst maxScrollTop = scrollHeight - height;\r\n\t\tmessageList.scrollTop = maxScrollTop > 0 ? maxScrollTop : 0;\r\n\t}\r\n\r\n\tconst SendMessage = (e) => {\r\n\t\te.preventDefault()\r\n\t\tif (message) {\r\n\t\t\tws.send(message)\r\n\t\t\tsetMessage('')\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tscrollBottom()\r\n\t}, [messages, scrollBottom])\r\n\r\n\r\n\treturn (\r\n\t\t<Paper style={{width:600}}>\r\n\t\t\t\r\n\t\t\t<Grid item xs={12} style={{ width: '100%', overflow: \"hidden\", height: '100%' }}>\r\n\t\t\t\t<Grid style={{ overflowY: \"scroll\", height: \"65vh\", width: '100%' }}\r\n\t\t\t\t\tref={(div) => { messageList = div; }}>\r\n\t\t\t\t\t{messages.map((i, idx) => (\r\n\t\t\t\t\t\t<Box p={1} key={idx}>\r\n\t\t\t\t\t\t\t<Grid container direction='row' >\r\n\t\t\t\t\t\t\t\t<Link to={'/profile/' + i.userId }>\r\n\t\t\t\t\t\t\t\t\t<Avatar alt='avatar' src={i.photo} />\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column', marginLeft: 10 }}>\r\n\t\t\t\t\t\t\t\t\t<strong> {i.userName}</strong>\r\n\t\t\t\t\t\t\t\t\t{i.message}</div>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Box  direction='row' p={3}>\r\n\t\t\t\t\t<form onSubmit={SendMessage}>\r\n\t\t\t\t\t<TextField type=\"text\" style={{width:500}}  autoFocus={true} variant='outlined' placeholder='white a message' size='small'\r\n\t\t\t\t\t\tname=\"message\" onChange={(e) => setMessage(e.currentTarget.value)}\r\n\t\t\t\t\t\tvalue={message} id=\"message__input\" />\r\n\t\t\t\t\t<IconButton type=\"submit\">\r\n\t\t\t\t\t<SendRoundedIcon color='primary'/> \r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Box>\r\n\t\t\t</Grid >\r\n\t\t</Paper>\r\n\t)\r\n};\r\n","import React from \"react\";\r\nimport { Header } from \"./features/header\";\r\nimport { Login } from \"./features/login\";\r\nimport { Users } from \"./features/users\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { init } from \"./app/reducers/app-reducer\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useEffect } from \"react\";\r\nimport { Grid, } from \"@material-ui/core\";\r\nimport { Redirect, Switch, Route } from \"react-router-dom\";\r\nimport Profile from \"./features/profile\";\r\nimport { Chat } from \"./features/chat\"\r\nimport { Preloader } from \"./common/preloader\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tapp__container: {\r\n\t\twidth: 1200,\r\n\t\tmargin: \"0 auto\",\r\n\t\tpaddingTop: theme.spacing(1),\r\n\t\r\n\r\n\t},\r\n}));\r\n//TODO сделать lazy load\r\n//  const Chat = React.lazy(() => import(\"./features/chat\"))\r\n\r\n\r\n\r\nfunction App() {\r\n\tconst isInit = useSelector((state) => state.app.isInit);\r\n\tconst isAuth = useSelector((state) => state.auth.isAuth);\r\n\tconst authUserId = useSelector(state => state.auth.id)\r\n\tconsole.log(authUserId)\r\n\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => dispatch(init()), [dispatch]);\r\n\tconst classes = useStyles();\r\n\r\n\r\n\r\n\tif (!isInit) {return <Preloader/> }\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Header />\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tclassName={classes.app__container} >\r\n\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t{!isAuth ? <Login /> :\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<Route exact path=\"/\" render={() => <Redirect to={\"/profile\"} />} />\r\n\t\t\t\t\t\t\t<Route exact path={'/profile/' + authUserId} render={() => <Redirect to={\"/profile\"} />} />\r\n\t\t\t\t\t\t\t<Route exact path=\"/profile/:userId?\" render={() => <Profile />} />\r\n\t\t\t\t\t\t\t<Route exact path=\"/users\" render={() => <Users />} />\r\n\t\t\t\t\t\t\t<Route exact path=\"/chat\" render={() => <Chat />} />\r\n\t\t\t\t\t\t\t<Route exact path=\"*\" render={() => <div>NOT FOUND 404</div>} />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport usersReducer from \"./reducers/users-reducer\";\r\nimport authReducer from \"../app/reducers/auth-reducer\";\r\nimport appReducer from \"../app/reducers/app-reducer\";\r\nimport profileReducer from \"./reducers/profile-reducer\";\r\n\r\nexport default configureStore({\r\n\treducer: {\r\n\t\tapp: appReducer,\r\n\t\tusers: usersReducer,\r\n\t\tauth: authReducer,\r\n\t\tprofile: profileReducer,\r\n\t},\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t// [::1] is the IPv6 localhost address.\r\n\twindow.location.hostname === '[::1]' ||\r\n\t// 127.0.0.0/8 are considered localhost for IPv4.\r\n\twindow.location.hostname.match(\r\n\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t)\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl, {\r\n\t\theaders: { 'Service-Worker': 'script' },\r\n\t})\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t);\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister();\r\n\t\t});\r\n\t}\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport store from \"./app/store\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<BrowserRouter>\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<App />\r\n\t\t\t</Provider>\r\n\t\t</BrowserRouter>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}